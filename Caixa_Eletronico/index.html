<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caixa Eletr√¥nico</title>

    <script>
        const senhaCorreta = 3589;
        var saldo = 100.5;

        var nome = prompt('Por favor, informe seu nome:');

        while(nome === ''){
            nome = prompt('Por favor, preencha seu nome corretamente:');
        }

        nomeBoasVindas();

        function nomeBoasVindas(){
            alert(`Ol√°, ${nome}. √â um prazer ter voc√™ por aqui!`);
            inicio();
        }

        function inicio(){
       
            var escolha = parseInt(prompt('O que deseja? \n 1 - Saldo \n 2 - Extrato \n 3 - Saque \n 4 - Dep√≥sito \n 5 - Transfer√™ncia \n 6 - Sair'));

            switch (escolha) {
                case 1:
                    verSaldo();
                    break;

                case 2:
                    extrato();
                    break;

                case 3: 
                    senhaSaque();
                    break;

                case 4: 
                    senhaDeposito();
                    break;
                
                case 5: 
                    senhaTransferencia();
                    break;

                case 6: 
                    sair();
                    break;
            
                default:
                    erro();
                    break;
            }
        }
   
        function verSaldo(){
            var senha = parseInt(prompt('Digite sua senha para ver saldo'));

            if(isNaN(senha) || senha === '' || senha !== senhaCorreta){
                alert('Senha incorreta.');
                verSaldo();

            } else {
                alert(`Seu saldo atual √©: R$ ${saldo} `);
                inicio();
            }
        }
    
        function extrato(){  
            var senha = parseInt(prompt('Digite sua senha para extrato'));

            if(isNaN(senha) || senha === '' || senha !== senhaCorreta){
                alert('Senha incorreta.');
                extrato();

            } else {
                alert(`Meu extrato\n üè¶ Saldo atual: R$ ${saldo} \n \n 30/08/2023 \n saldo do dia R$ 50,07 \n Armarinhos Fernando ---- R$ 200,00 \n \n 24/08/2023 \n saldo do dia R$ 100,00 \n Dep. Dinheiro ---------- R$ 250,00 \n \n 05/07/2023 \n saldo do dia R$ 300,00 \n Transf. Cred. --------- R$ 60,00`);  
                inicio();
            }
        }

        function senhaSaque(){
            var senha = parseInt(prompt('Digite sua senha para saque'));

            if(isNaN(senha) || senha === '' || senha !== senhaCorreta){
                alert('Senha incorreta.');
                senhaSaque();

            } else {
                fazerSaque();
            } 
        }

        function fazerSaque(){

            var saque = parseFloat(prompt('Qual o valor para saque?'));

            if(isNaN(saque) || saque === ''){
                alert('Por favor, informe apenas n√∫meros.');
                fazerSaque();

            } else if(saque > saldo || saque <= 0){
                alert('Opera√ß√£o n√£o autorizada.');
                inicio();

            } else {
                var verificar = confirm('Confirmar saque');

                if(verificar){
                    saldo -= saque; 
                    verSaldo();

                } else {
                    inicio();
                }
               
            } 
        }

        function senhaDeposito(){
            var senha = parseInt(prompt('Digite sua senha para dep√≥sito'));

            if(isNaN(senha) || senha === '' || senha !== senhaCorreta){
                alert('Senha incorreta.');
                senhaDeposito();

            } else {
                fazerDeposito();
            }

        }

        function fazerDeposito(){
        var deposito = parseFloat(prompt('Informe o valor para dep√≥sito'));

            if(isNaN(deposito) || deposito === ''){
                alert('Por favor, informe apenas n√∫meros');
                fazerDeposito();

            } else if(deposito <= 0){
                alert('Opera√ß√£o n√£o autorizada');
                inicio();

            } else {
                var verificar = confirm('Confirmar dep√≥sito');

                if(verificar){
                    saldo += deposito; 
                    verSaldo();

                } else {
                    inicio();
                }
                
            }
       }

       function senhaTransferencia(){
            var senha = parseInt(prompt('Digite sua senha para transfer√™ncia'));

            if(isNaN(senha) || senha === '' || senha !== senhaCorreta){
                alert('Senha incorreta.');
                senhaTransferencia();

            } else {
                fazerTransferencia();
            }
        }

        function fazerTransferencia(){
            var numeroConta = parseInt(prompt('Informe o n√∫mero da conta: '));

            if(isNaN(numeroConta) || numeroConta === ''){
                alert('Por favor, informe apenas n√∫meros.');
                fazerTransferencia();

            } else {
                var transferencia = parseInt(prompt('Informe o valor para transfer√™ncia: '));

                if(isNaN(transferencia) || transferencia === ''){
                    alert('Por favor, informe apenas n√∫meros.');
                    fazerTransferencia();

                } else if(transferencia > saldo || transferencia <= 0){
                    alert('Opera√ß√£o n√£o autorizada.');
                    inicio();

                } else {
                    var verificar = confirm('Confirmar Transfer√™ncia');

                    if(verificar){
                        saldo -= transferencia;
                        verSaldo();

                    } else {
                        inicio();
                    }
                   
                }
            }  
       }
    
       function erro(){
        alert('Por favor, informe um n√∫mero entre 1 e 6');
        inicio();
       }

       function sair(){
            var confirma = confirm('Voc√™ deseja sair?');

            if(confirma){
                alert(`At√© logo, ${nome}. Foi um prazer ter voc√™ por aqui! =)`);
                window.close();

            } else {
                inicio();
            }
       }
    </script>
</head>
<body>
</body>
</html>